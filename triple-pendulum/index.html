<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triple Pendulum Simulation</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="language-switcher">
        <label data-i18n="languageLabel">üåê Language:</label>
        <select id="languageSelect">
            <option value="en">English</option>
            <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
            <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
        </select>
    </div>
    
    <div class="container">
        <header>
            <h1 data-i18n="title">Triple Pendulum Simulation</h1>
            <p class="description" data-i18n="description">This simulation uses the Lagrangian formulation with Euler-Lagrange equations for accurate physics.</p>
            <p class="instructions" data-i18n="instructions">üñ±Ô∏è Drag any ball to set initial position, then release to start the simulation</p>
        </header>

        <div class="controls">
            <div class="control-group">
                <label for="modelSelect" data-i18n="modelLabel">Simulation Model:</label>
                <select id="modelSelect">
                    <option value="classic" data-i18n="modelClassic">Classic Triple Pendulum</option>
                    <option value="doubleSingle" data-i18n="modelDouble">Double + Single Variant</option>
                    <option value="damped" data-i18n="modelDamped">Damped Pendulum</option>
                    <option value="chaotic" data-i18n="modelChaotic">Chaotic Preset</option>
                    <option value="custom" data-i18n="modelCustom">Custom Configuration</option>
                </select>
            </div>

            <button id="resetBtn" class="btn"><span data-i18n="reset">üîÑ Reset</span></button>
            <button id="startPauseBtn" class="btn"><span data-i18n="start">‚ñ∂Ô∏è Start</span></button>
        </div>

        <div class="config-panel" id="configPanel">
            <h3 data-i18n="customConfigTitle">Custom Configuration</h3>
            <div class="config-grid">
                <div class="config-item">
                    <label data-i18n="pendulum1Length">Pendulum 1 Length:</label>
                    <input type="range" id="length1" min="50" max="200" value="150">
                    <span id="length1Value">150</span>px
                </div>
                <div class="config-item">
                    <label data-i18n="pendulum1Mass">Pendulum 1 Mass:</label>
                    <input type="range" id="mass1" min="5" max="30" value="15">
                    <span id="mass1Value">15</span>kg
                </div>
                <div class="config-item">
                    <label data-i18n="pendulum2Length">Pendulum 2 Length:</label>
                    <input type="range" id="length2" min="50" max="200" value="120">
                    <span id="length2Value">120</span>px
                </div>
                <div class="config-item">
                    <label data-i18n="pendulum2Mass">Pendulum 2 Mass:</label>
                    <input type="range" id="mass2" min="5" max="30" value="12">
                    <span id="mass2Value">12</span>kg
                </div>
                <div class="config-item">
                    <label data-i18n="pendulum3Length">Pendulum 3 Length:</label>
                    <input type="range" id="length3" min="50" max="200" value="90">
                    <span id="length3Value">90</span>px
                </div>
                <div class="config-item">
                    <label data-i18n="pendulum3Mass">Pendulum 3 Mass:</label>
                    <input type="range" id="mass3" min="5" max="30" value="10">
                    <span id="mass3Value">10</span>kg
                </div>
                <div class="config-item">
                    <label data-i18n="dampingFactor">Damping Factor:</label>
                    <input type="range" id="damping" min="0" max="100" value="0">
                    <span id="dampingValue">0</span>%
                </div>
                <div class="config-item">
                    <label data-i18n="gravity">Gravity:</label>
                    <input type="range" id="gravity" min="1" max="20" value="10">
                    <span id="gravityValue">10</span>m/s¬≤
                </div>
            </div>
            <button id="applyConfigBtn" class="btn btn-primary" data-i18n="applyConfig">Apply Configuration</button>
        </div>

        <div class="main-content">
            <canvas id="pendulumCanvas" width="800" height="600"></canvas>

            <div class="state-panel">
                <h3 data-i18n="simulationState">Simulation State</h3>
                <div class="state-info">
                    <div class="state-item">
                        <span class="label" data-i18n="modelLabelShort">Model:</span>
                        <span id="currentModel" class="value">Classic Triple Pendulum</span>
                    </div>
                    <div class="state-item">
                        <span class="label" data-i18n="status">Status:</span>
                        <span id="simStatus" class="value status-idle">Idle - Drag to start</span>
                    </div>
                    <div class="state-divider"></div>

                    <h4 data-i18n="pendulum1">Pendulum 1</h4>
                    <div class="state-item">
                        <span class="label" data-i18n="angle1">Angle Œ∏‚ÇÅ:</span>
                        <span id="angle1" class="value">0.00¬∞</span>
                    </div>
                    <div class="state-item">
                        <span class="label" data-i18n="velocity1">Angular Velocity œâ‚ÇÅ:</span>
                        <span id="velocity1" class="value">0.00 rad/s</span>
                    </div>

                    <h4 data-i18n="pendulum2">Pendulum 2</h4>
                    <div class="state-item">
                        <span class="label" data-i18n="angle2">Angle Œ∏‚ÇÇ:</span>
                        <span id="angle2" class="value">0.00¬∞</span>
                    </div>
                    <div class="state-item">
                        <span class="label" data-i18n="velocity2">Angular Velocity œâ‚ÇÇ:</span>
                        <span id="velocity2" class="value">0.00 rad/s</span>
                    </div>

                    <h4 data-i18n="pendulum3">Pendulum 3</h4>
                    <div class="state-item">
                        <span class="label" data-i18n="angle3">Angle Œ∏‚ÇÉ:</span>
                        <span id="angle3" class="value">0.00¬∞</span>
                    </div>
                    <div class="state-item">
                        <span class="label" data-i18n="velocity3">Angular Velocity œâ‚ÇÉ:</span>
                        <span id="velocity3" class="value">0.00 rad/s</span>
                    </div>

                    <div class="state-divider"></div>
                    <h4 data-i18n="energy">Energy</h4>
                    <div class="state-item">
                        <span class="label" data-i18n="kineticEnergy">Kinetic Energy:</span>
                        <span id="kineticEnergy" class="value">0.00 J</span>
                    </div>
                    <div class="state-item">
                        <span class="label" data-i18n="potentialEnergy">Potential Energy:</span>
                        <span id="potentialEnergy" class="value">0.00 J</span>
                    </div>
                    <div class="state-item total-energy">
                        <span class="label" data-i18n="totalEnergy">Total Energy:</span>
                        <span id="totalEnergy" class="value">0.00 J</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="trail-control">
            <div class="trail-options">
                <h4 data-i18n="trailOptions">Trail Options</h4>
                <label>
                    <input type="checkbox" id="showTrail1" checked>
                    <span style="color: #00d9ff;" data-i18n="ball1Trail">‚óè Ball 1 Trail</span>
                </label>
                <label>
                    <input type="checkbox" id="showTrail2" checked>
                    <span style="color: #00ff88;" data-i18n="ball2Trail">‚óè Ball 2 Trail</span>
                </label>
                <label>
                    <input type="checkbox" id="showTrail3" checked>
                    <span style="color: #ff6b9d;" data-i18n="ball3Trail">‚óè Ball 3 Trail</span>
                </label>
            </div>
            <div class="trail-settings">
                <label data-i18n="trailLength">
                    Trail Length:
                    <input type="range" id="trailLength" min="50" max="500" value="200">
                    <span id="trailLengthValue">200</span>
                </label>
                <label data-i18n="simulationSpeed">
                    Simulation Speed:
                    <input type="range" id="speedControl" min="1" max="50" value="25">
                    <span id="speedValue">2.5</span>x
                </label>
            </div>
        </div>

        <div class="model-description" id="modelDescription">
            <h3 data-i18n="modelInfoTitle">Model Information</h3>
            <div id="modelInfo" class="model-info-content">
                <!-- Model description will be inserted here -->
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <p data-i18n="footer">Developed by <a href="https://github.com/rykc" target="_blank" rel="noopener noreferrer">rykc</a> on GitHub</p>
    </footer>

    <script src="script.v1.js"></script>
</body>

</html>
